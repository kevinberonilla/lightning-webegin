if("undefined"==typeof jQuery.aljs)throw new Error("Please include the ALJS initializer file");!function(t){var e=15,o=15,l=function(e){var o=e.data,l=t(e.target).is(t(o.selector))?t(e.target):t(e.target).closest(o.selector||'[data-aljs="popover"]');console.log(o.selector);var r=!!l.attr("data-aljs-show");l.attr("data-aljs-title")||(l.attr("data-aljs-title",l.attr("title")),l.attr("title",""));var n=l.parent().hasClass("slds-button")?' style="line-height: normal;"':"",d=l.attr("data-aljs-id")||"aljs-"+(new Date).valueOf(),p=r?t("#"+l.data("aljs-show")).html():l.data("aljs-title"),f=l.attr("data-aljs-placement")||"top",h={top:"bottom",bottom:"top",left:"right",right:"left"},c="overflow: visible; display: inline-block; position: absolute;",u=""!=o.modifier?" slds-popover--"+o.modifier:"",v=""!=o.theme?" slds-theme--"+o.theme:"",g='<div id="'+d+'" aria-describedby="'+d+'" class="slds-popover'+u+v+" slds-nubbin--"+(h[f]||"top")+'" style="'+c+'"><div class="slds-popover__body"'+n+">"+p+"</div></div>";if(0===l.next(".slds-popover").length){var m=t.aljs.scoped?t(g).appendTo(".slds"):t(g).appendTo("body"),b=m[0].offsetWidth,w=m[0].offsetHeight,j=a(l),y=i(f,j,b,w);s(y,f,b,w,m)}},s=function(t,e,o,l,s){var i=r(e,t,o,l);i.left?t.left+=i.left:t.top+=i.top,s.offset(t)},i=function(t,l,s,i){var a={};switch(t){case"bottom":a={top:l.top+l.height+e,left:l.left+l.width/2-s/2};break;case"top":a={top:l.top-i-e,left:l.left+l.width/2-s/2};break;case"left":a={top:l.top+l.height/2-i/2,left:l.left-s-o};break;default:a={top:l.top+l.height/2-i/2,left:l.left+l.width+o}}return a},a=function(e){e=e||this.$element;var o=e[0],l="BODY"==o.tagName,s=o.getBoundingClientRect();null==s.width&&(s=t.extend({},s,{width:s.right-s.left,height:s.bottom-s.top}));var i=l?{top:0,left:0}:e.offset(),a={scroll:l?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},r=l?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},s,a,r,i)},r=function(e,o,l,s){var i={top:0,left:0},r=a(t("body"));if(/right|left/.test(e)){var n=o.top-r.scroll,d=o.top-r.scroll+s;n<r.top?i.top=r.top-n:d>r.top+r.height&&(i.top=r.top+r.height-d)}else{var p=o.left,f=o.left+l;p<r.left?i.left=r.left-p:f>r.right&&(i.left=r.left+r.width-f)}return i},n=function(e){var o=t("body").find(".slds-popover");o.length>0&&o.remove()};t.fn.popover=function(e){var o=t.extend({assetsLocation:t.aljs.assetsLocation,modifier:"",theme:""},e);return this.each(function(){t("#"+t(this).data("aljs-show")).addClass("slds-hide")}),o.selector&&1===this.length?this.on("mouseenter",o.selector,o,l).on("focusin",o.selector,o,l).on("mouseleave",o.selector,o,n).on("blur",o.selector,o,n).on("touchstart",o.selector,o,function(e){e.stopPropagation();var s="tooltip"==o.modifier?".slds-popover--tooltip":".slds-popover";0==t(s).length?l():n()}):this.each(function(){var e=JSON.parse(JSON.stringify(o));e.selector=this,t(this).on("mouseenter",e,l).on("focusin",e,l).on("mouseleave",e,n).on("blur",e,n).on("touchstart",e,function(o){o.stopPropagation();var s="tooltip"==e.modifier?".slds-popover--tooltip":".slds-popover";0==t(s).length?l():n()})})}}(jQuery);